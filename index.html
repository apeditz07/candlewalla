
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Candle Walla</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    body.light { background: #ffffff; color: #000000; }
    body.dark { background: #1e1e1e; color: #ffffff; }
    select, button {
      margin: 10px; padding: 10px; font-size: 16px;
    }
    .lang-switch, .device-switch, .theme-switch {
      margin-top: 10px;
    }
    #learn, footer {
      margin-top: 30px;
      background: #f4f4f4;
      padding: 15px;
      border-radius: 8px;
    }
    footer {
      text-align: center;
      font-size: 14px;
    }
    a.learn-link {
      display: inline-block;
      margin-top: 10px;
      padding: 10px;
      background: #007bff;
      color: white;
      text-decoration: none;
      border-radius: 5px;
    }
  </style>
</head>
<body class="light">

  <h1 id="title">Candle Walla üìä</h1>

  <div>
    <select id="symbolSelector" onchange="loadChart()">
      <option value="NSE:NIFTY">NIFTY</option>
      <option value="NSE:BANKNIFTY">BANKNIFTY</option>
      <option value="NSE:RELIANCE">Reliance</option>
      <option value="NSE:TCS">TCS</option>
      <option value="NSE:INFY">Infosys</option>
    </select>
  </div>

  <div class="device-switch">
    <label>View Mode:</label>
    <select id="deviceMode" onchange="loadChart()">
      <option value="auto">Auto</option>
      <option value="mobile">Mobile</option>
      <option value="desktop">Desktop</option>
    </select>
  </div>

  <div class="theme-switch">
    <button onclick="toggleTheme()">Toggle Theme</button>
  </div>

  <div class="tradingview-widget-container">
    <div id="tradingview_chart"></div>
  </div>

  <div class="lang-switch">
    <button onclick="setLang('en')">English</button>
    <button onclick="setLang('hi')">‡§π‡§ø‡§Ç‡§¶‡•Ä</button>
  </div>

  <div id="prediction">
    <h2>üìà AI Prediction</h2>
    <p id="prediction-text">Next candle might go up üîº +100 points</p>
  </div>

  <div id="learn">
    <h2 id="learn-title">Learn Stocks</h2>
    <p id="learn-text">See chart and prediction below.</p>
    <a class="learn-link" href="learn/index.html">Go to Learn Page</a>
  </div>

  <footer>
    <p>¬© 2025 Candle Walla | Made for educational use</p>
  </footer>

  <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
  <script>
    let widget;
    function loadChart() {
      const symbol = document.getElementById("symbolSelector").value;
      const device = document.getElementById("deviceMode").value;
      const width = device === "mobile" ? 360 : device === "desktop" ? 1024 : "100%";
      const height = device === "mobile" ? 400 : 500;

      if (widget) widget.remove();
      widget = new TradingView.widget({
        "width": width,
        "height": height,
        "symbol": symbol,
        "interval": "15",
        "timezone": "Asia/Kolkata",
        "theme": document.body.classList.contains("dark") ? "dark" : "light",
        "style": "1",
        "locale": "en",
        "toolbar_bg": "#f1f3f6",
        "enable_publishing": false,
        "hide_top_toolbar": false,
        "save_image": false,
        "container_id": "tradingview_chart"
      });
    }

    function toggleTheme() {
      document.body.classList.toggle("dark");
      document.body.classList.toggle("light");
      loadChart();
    }

    function setLang(lang) {
      const isHindi = lang === 'hi';
      document.getElementById("title").innerText = isHindi ? "‡§ï‡•à‡§Ç‡§°‡§≤ ‡§µ‡§æ‡§≤‡§æ üìä" : "Candle Walla üìä";
      document.getElementById("learn-title").innerText = isHindi ? "‡§∏‡•ç‡§ü‡•â‡§ï ‡§∏‡•Ä‡§ñ‡•á‡§Ç" : "Learn Stocks";
      document.getElementById("learn-text").innerText = isHindi ? "‡§®‡•Ä‡§ö‡•á ‡§ö‡§æ‡§∞‡•ç‡§ü ‡§î‡§∞ ‡§≠‡§µ‡§ø‡§∑‡•ç‡§Ø‡§µ‡§æ‡§£‡•Ä ‡§¶‡•á‡§ñ‡•á‡§Ç‡•§" : "See chart and prediction below.";
      const selector = document.getElementById("symbolSelector");
      selector.options[0].text = isHindi ? "‡§®‡§ø‡§´‡•ç‡§ü‡•Ä" : "NIFTY";
      selector.options[1].text = isHindi ? "‡§¨‡•à‡§Ç‡§ï ‡§®‡§ø‡§´‡•ç‡§ü‡•Ä" : "BANKNIFTY";
      selector.options[2].text = isHindi ? "‡§∞‡§ø‡§≤‡§æ‡§Ø‡§Ç‡§∏" : "Reliance";
      selector.options[3].text = isHindi ? "‡§ü‡•Ä‡§∏‡•Ä‡§è‡§∏" : "TCS";
      selector.options[4].text = isHindi ? "‡§á‡§®‡•ç‡§´‡•ã‡§∏‡§ø‡§∏" : "Infosys";
    }

    window.addEventListener("DOMContentLoaded", loadChart);
  </script>
</body>
</html>
